const data = {
  apartments: [
    {
      info: ["Studio", "1 Bath", "332 Sq.Ft"],
      price: "From $2,477",
      picture:
        'background-image: url("https://capi.myleasestar.com/v2/dimg/66681038/706x887/66681038.png"); background-position: center center;',
      link: "",
    },
    {
      info: ["Studio", "1 Bath", "357 Sq.Ft"],
      price: "From $2,619",
      picture:
        'background-image: url("https://capi.myleasestar.com/v2/dimg/66816392/1104x1028/66816392.png"); background-position: center center;',
      link: "tel://628-400-5017",
    },
    {
      info: ["Studio", "1 Bath", "363 Sq.Ft"],
      price: "From $2,314",
      picture:
        'background-image: url("https://capi.myleasestar.com/v2/dimg/66875748/617x839/66875748.png"); background-position: center center;',
      link: "tel://628-400-5017",
    },
    {
      info: ["Studio", "1 Bath", "364 Sq.Ft"],
      price: "From $2,619",
      picture:
        'background-image: url("https://capi.myleasestar.com/v2/dimg/66816391/1104x1028/66816391.png"); background-position: center center;',
      link: "tel://628-400-5017",
    },
    {
      info: ["Studio", "1 Bath", "391 Sq.Ft"],
      price: "From $2,421",
      picture:
        'background-image: url("https://capi.myleasestar.com/v2/dimg/66681040/1024x788/66681040.png"); background-position: center center;',
      link: "",
    },
    {
      info: ["Studio", "1 Bath", "404 Sq.Ft"],
      price: "From $2,597",
      picture:
        'background-image: url("https://capi.myleasestar.com/v2/dimg/66681041/518x856/66681041.png"); background-position: center center;',
      link: "",
    },
    {
      info: ["Studio", "1 Bath", "415 Sq.Ft"],
      price: "From $2,653",
      picture:
        'background-image: url("https://capi.myleasestar.com/v2/dimg/66681042/504x764/66681042.jpg"); background-position: center center;',
      link: "",
    },
    {
      info: ["Studio", "1 Bath", "448 Sq.Ft"],
      price: "From $2,314",
      picture: "background-position: center center;",
      link: "tel://628-400-5017",
    },
    {
      info: ["1 Bed", "1 Bath", "448 Sq.Ft"],
      price: "From $3,362",
      picture:
        'background-image: url("https://capi.myleasestar.com/v2/dimg/66691867/331x568/66691867.jpg"); background-position: center center;',
      link: "tel://628-400-5017",
    },
    {
      info: ["Studio", "1 Bath", "460 Sq.Ft"],
      price: "From $2,683",
      picture:
        'background-image: url("https://capi.myleasestar.com/v2/dimg/66681043/1139x517/66681043.png"); background-position: center center;',
      link: "",
    },
    {
      info: ["1 Bed", "1 Bath", "474 Sq.Ft"],
      price: "From $3,428",
      picture: "background-position: center center;",
      link: "",
    },
    {
      info: ["1 Bed", "1 Bath", "531 Sq.Ft"],
      price: "From $3,738",
      picture:
        'background-image: url("https://capi.myleasestar.com/v2/dimg/66875750/1106x429/66875750.png"); background-position: center center;',
      link: "tel://628-400-5017",
    },
    {
      info: ["1 Bed", "1.5 Baths", "536 Sq.Ft"],
      price: "From $3,662",
      picture:
        'background-image: url("https://capi.myleasestar.com/v2/dimg/66681044/429x832/66681044.jpg"); background-position: center center;',
      link: "tel://628-400-5017",
    },
    {
      info: ["1 Bed", "1 Bath", "555 Sq.Ft"],
      price: "From $3,462",
      picture:
        'background-image: url("https://capi.myleasestar.com/v2/dimg/66681048/1013x676/66681048.png"); background-position: center center;',
      link: "tel://628-400-5017",
    },
    {
      info: ["1 Bed", "1 Bath", "568 Sq.Ft"],
      price: "From $3,853",
      picture: "background-position: center center;",
      link: "tel://628-400-5017",
    },
    {
      info: ["1 Bed", "1 Bath", "613 Sq.Ft"],
      price: "From $3,512",
      picture:
        'background-image: url("https://capi.myleasestar.com/v2/dimg/66681050/1003x553/66681050.jpg"); background-position: center center;',
      link: "tel://628-400-5017",
    },
    {
      info: ["1 Bed", "1 Bath", "650 Sq.Ft"],
      price: "From $3,858",
      picture:
        'background-image: url("https://capi.myleasestar.com/v2/dimg/66691866/460x309/66691866.jpg"); background-position: center center;',
      link: "tel://628-400-5017",
    },
    {
      info: ["1 Bed", "1.5 Baths", "719 Sq.Ft"],
      price: "From $3,988",
      picture:
        'background-image: url("https://capi.myleasestar.com/v2/dimg/66691865/384x545/66691865.jpg"); background-position: center center;',
      link: "tel://628-400-5017",
    },
    {
      info: ["1 Bed", "1.5 Baths", "720 Sq.Ft"],
      price: "From $4,098",
      picture: "background-position: center center;",
      link: "",
    },
    {
      info: ["1 Bed", "1 Bath", "748 Sq.Ft"],
      price: "From $4,022",
      picture:
        'background-image: url("https://capi.myleasestar.com/v2/dimg/66681051/1124x527/66681051.png"); background-position: center center;',
      link: "tel://628-400-5017",
    },
    {
      info: ["2 Beds", "2 Baths", "761 Sq.Ft"],
      price: "From $3,973",
      picture:
        'background-image: url("https://capi.myleasestar.com/v2/dimg/66681052/1079x771/66681052.png"); background-position: center center;',
      link: "tel://628-400-5017",
    },
    {
      info: ["2 Beds", "1 Bath", "828 Sq.Ft"],
      price: "From $3,263",
      picture:
        'background-image: url("https://capi.myleasestar.com/v2/dimg/66691868/479x371/66691868.jpg"); background-position: center center;',
      link: "tel://628-400-5017",
    },
    {
      info: ["2 Beds", "1 Bath", "844 Sq.Ft"],
      price: "From $3,273",
      picture:
        'background-image: url("https://capi.myleasestar.com/v2/dimg/66710530/479x371/66710530.jpg"); background-position: center center;',
      link: "tel://628-400-5017",
    },
    {
      info: ["2 Beds", "2 Baths", "858 Sq.Ft"],
      price: "From $3,336",
      picture:
        'background-image: url("https://capi.myleasestar.com/v2/dimg/66691869/479x436/66691869.jpg"); background-position: center center;',
      link: "",
    },
    {
      info: ["2 Beds", "2 Baths", "866 Sq.Ft"],
      price: "From $3,945",
      picture:
        'background-image: url("https://capi.myleasestar.com/v2/dimg/66681055/404x879/66681055.png"); background-position: center center;',
      link: "tel://628-400-5017",
    },
    {
      info: ["2 Beds", "2 Baths", "892 Sq.Ft"],
      price: "From $3,463",
      picture:
        'background-image: url("https://capi.myleasestar.com/v2/dimg/66691870/210x591/66691870.jpg"); background-position: center center;',
      link: "tel://628-400-5017",
    },
    {
      info: ["2 Beds", "2 Baths", "902 Sq.Ft"],
      price: "From $4,037",
      picture:
        'background-image: url("https://capi.myleasestar.com/v2/dimg/66681056/683x836/66681056.png"); background-position: center center;',
      link: "tel://628-400-5017",
    },
    {
      info: ["2 Beds", "2 Baths", "907 Sq.Ft"],
      price: "From $3,607",
      picture:
        'background-image: url("https://capi.myleasestar.com/v2/dimg/66681054/969x804/66681054.jpg"); background-position: center center;',
      link: "",
    },
    {
      info: ["2 Beds", "1 Bath", "930 Sq.Ft"],
      price: "From $3,513",
      picture:
        'background-image: url("https://capi.myleasestar.com/v2/dimg/66681053/1065x718/66681053.jpg"); background-position: center center;',
      link: "tel://628-400-5017",
    },
    {
      info: ["2 Beds", "2 Baths", "1,004 Sq.Ft"],
      price: "From $3,718",
      picture:
        'background-image: url("https://capi.myleasestar.com/v2/dimg/66681057/676x806/66681057.png"); background-position: center center;',
      link: "tel://628-400-5017",
    },
    {
      info: ["3 Beds", "2 Baths", "1,133 Sq.Ft"],
      price: "From $6,933",
      picture:
        'background-image: url("https://capi.myleasestar.com/v2/dimg/66681059/939x873/66681059.png"); background-position: center center;',
      link: "tel://628-400-5017",
    },
    {
      info: ["2 Beds", "2 Baths", "1,190 Sq.Ft"],
      price: "From $4,373",
      picture:
        'background-image: url("https://capi.myleasestar.com/v2/dimg/66816389/1420x1708/66816389.png"); background-position: center center;',
      link: "tel://628-400-5017",
    },
    {
      info: ["2 Beds", "2 Baths", "1,247 Sq.Ft"],
      price: "From $4,498",
      picture:
        'background-image: url("https://capi.myleasestar.com/v2/dimg/66816390/1626x1712/66816390.png"); background-position: center center;',
      link: "tel://628-400-5017",
    },
    {
      info: ["2 Beds", "2 Baths", "1,283 Sq.Ft"],
      price: "From $4,807",
      picture:
        'background-image: url("https://capi.myleasestar.com/v2/dimg/66681058/568x814/66681058.png"); background-position: center center;',
      link: "",
    },
  ],
};

function cleaning(apartmentsData) {
  var apartments = apartmentsData.apartments.map((item) => {
    const bedrooms = item.info[0];
    const baths = item.info[1];
    const area = item.info[2];
    var price = null;
    if (item.link.length === 0 && item.price.includes("$")) {
      const index = item.price.indexOf("$");
      price = item.price.slice(index);
    }
    var image = null;
    const regex = /url\("([^"]+)"\)/;
    const match = item.picture.match(regex);
    if (match && match[1]) {
      image = match[1];
    }
    var apartment_link =
      "https://www.oandmsf.com/apartments/ca/san-francisco/floor-plans";
    return { bedrooms, baths, area, price, image, apartment_link };
  });
  console.log(apartments);
}

cleaning(data);
